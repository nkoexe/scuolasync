{% from "macro/impostazioni.html" import textfield, numberfield, unitnumberfield, checkbox, colorpicker, dropdown with context %}
<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Impostazioni</title>
  </head>
  <body>
    <h1>Impostazioni</h1>
    <button onclick="location.href=`{{ url_for('online.index') }}`">Indietro</button>
    <br>
    {% for sezione in impostazioni %}
    <a href="#{{sezione.id}}"><button>{{sezione.title}}</button></a>
    {% endfor %}
    <ul>
      {% for sezione in impostazioni %}
        <h3 id="{{sezione.id}}">{{sezione.title}}</h3>
        <ul>
          {% for opzione in sezione.options %}
            <li>
              <h5>{{opzione.title}}</h5>
              <p>{{opzione.descr}}</p>
              {% if opzione.type == opzione.TESTO %}
                {{ textfield(opzione) }}
              {% elif opzione.type == opzione.NUMERO %}
                {{ numberfield(opzione) }}
              {% elif opzione.type == opzione.NUMERO_UNITA %}
                {{ unitnumberfield(opzione) }}
              {% elif opzione.type == opzione.BOOLEANO %}
                {{ checkbox(opzione) }}
              {% elif opzione.type == opzione.COLORE %}
                {{ colorpicker(opzione) }}
              {% elif opzione.type == opzione.SELEZIONE %}
                {{ dropdown(opzione) }}
              {% endif %}
            </li>
          {% endfor %}
        </ul>
        {% endfor %}
    </ul>
  </body>
</html>
